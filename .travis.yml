language: python
matrix:
  fast_finish: true
  allow_failures:
  - python: nightly
  - python: 3.7-dev
  - python: 3.6-dev
python:
- '3.6'
- 3.6-dev
- 3.7-dev
- nightly
install:
- pip install pipenv
- pip install coveralls
- pipenv install --deploy && pipenv install --dev --deploy
script:
- pipenv run black --check --diff .
- pipenv run python setup.py test
- pipenv run python setup.py doc
- pipenv run python setup.py sdist
- pipenv run python setup.py bdist_wheel
after_success:
- coveralls
deploy:
  provider: pypi
  distribution: sdist bdist_wheel
  user: Ovv
  password:
    secure: HUsv7UL4ZIrUNaq9FCZtFjha/o158G2Jk7rH0Lm2Sc1YDP0yfvmLUL0Y4ncNZlDJ3liUNP4ngCyFcm5bq9sF24YNKZc3MODRGIJWUyyD6k6v4STR14TweUsO96qamLizt22E9XmcyDC9hasgzvschMrJ6rnptW7lmrelnQG3b7DXewyyCj/hO+NJFwJi3l5OEaDU5qlLv5m/7Ax/Xas3eUgFOFJoesvFY2NA9Oz7ILC8rsvUHW8Vj2f647Qedu5qjojqPgjZF8sjqgYZIcWLl5M9kt6fDg31bANbqv3e9AgjNi2IE3YAt2p2m/+jCNcmrkmInjdkn/BXp6cTNsxzcVVGnEuSwpDpYNE0pqwCQq+v52ouaF0yPTP/yOsvsutqScN47nyDlyEP6ev6k23Lh1Skcy/36jN10G8lHmeuBUoQBV+/T0DuWLAjTI/5XOi17EXf9AgmiAzAnZNqajuaS72FmXauXDHoloPtWPQ1x9wzfH4SODQrD/QrHZKtBZdh8zFI1D+IEcz0IHZk8CI5C5q0PzYrS6gdR5+VcrtQe9kw3tnZJklbY/80tKOmi7wKXN6cGepB5KCH0hghG2bDha9AfCSceDtgDVcC2HvgY1yIhsfZYl0Ss5CNq9bqAIBLwrQYvrrCxTWAv1xQLuHcgdyTRM48XuQgqoJIqEqCtkI=
  on:
    repo: ovv/isitdown
    branch: master
    python: '3.6'
    tags: true
